<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Rust : a gentle introduction</title>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="./reveal.js/dist/reveal.css"/>

<link rel="stylesheet" href="./reveal.js/dist/theme/black.css" id="theme"/>

<link rel="stylesheet" type="text/css" href="/asciinema-player.css" />
<link rel="stylesheet" type="text/css" href="./css/slides.css" />
<style type="text/css"> img {width: 50%} img[alt=grex] {width: 50%}</style>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide"><h1 class="title">Rust : a gentle introduction</h1>
</section>

<section>
<section id="slide-org7c7ccde">
<h2 id="org7c7ccde">Sommaire</h2>
<div class="outline-text-2" id="text-org7c7ccde">
</div>
<ul class="org-ul">
<li><a id="org0340268"></a>Introduction<br /></li>
<li><a id="orgda38a74"></a>Getting Started<br /></li>
<li><a id="org1ef7e95"></a>Common programming concepts<br /></li>
<li><a id="org7ada89f"></a>Ownership<br /></li>
<li><a id="org7101183"></a>Live<br /></li>
<li><a id="org27b6ea5"></a>WebAssembly<br /></li>
<li><a id="orgdd72dca"></a>Improvement of the language<br /></li>
<li><a id="org8d0513b"></a>Resources<br /></li>
</ul>

</section>
</section>
<section>
<section id="slide-org348a43b">
<h2 id="org348a43b">Introduction</h2>
<div class="outline-text-2" id="text-org348a43b">
</div>
</section>
<section id="slide-org49e21a1">
<h3 id="org49e21a1">Features</h3>
<ul>
<li>High-level ergonomics</li>
<li>Low-level control</li>

</ul>

</section>
<section id="slide-org503706a">
<h3 id="org503706a">High-level ergonomics</h3>
<ul>
<li>pattern matching</li>
<li>macros</li>
<li>high quality error reporting message</li>
<li>packages/dependencies manager</li>
<li>iterators</li>
<li>closures</li>

</ul>

</section>
<section id="slide-org08edc97">
<h3 id="org08edc97">Low-level control</h3>
<ul>
<li>pointers / references</li>
<li>ownership</li>

</ul>

</section>
<section id="slide-orgf409bde">
<h3 id="orgf409bde">Comparison</h3>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">"ancestors" (pick 2)</th>
<th scope="col" class="org-left">Rust (pick 4)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">safety</td>
<td class="org-left">?</td>
<td class="org-left">X</td>
</tr>

<tr>
<td class="org-left">productivity</td>
<td class="org-left">?</td>
<td class="org-left">X</td>
</tr>

<tr>
<td class="org-left">speed</td>
<td class="org-left">X</td>
<td class="org-left">X</td>
</tr>

<tr>
<td class="org-left">ergonomics</td>
<td class="org-left">?</td>
<td class="org-left">X</td>
</tr>
</tbody>
</table>


</section>
</section>
<section>
<section id="slide-org8d6411c">
<h2 id="org8d6411c">Getting Started</h2>
<div class="outline-text-2" id="text-org8d6411c">
</div>
</section>
<section id="slide-org642fb9a">
<h3 id="org642fb9a">2. Hello world</h3>
<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">fn</span> <span style="color: #87c095;">main</span><span style="color: #e68183;">()</span> <span style="color: #e68183;">{</span>
    <span style="color: #e39b7b;">println!</span><span style="color: #d9bb80;">(</span><span style="color: #87af87;">"Hello, world!"</span><span style="color: #d9bb80;">)</span>;
<span style="color: #e68183;">}</span>
</code></pre>
</div>

<p>
Fonction main
</p>

</section>
</section>
<section>
<section id="slide-orgcbdc5cd">
<h2 id="orgcbdc5cd">Common programming concepts</h2>
<div class="outline-text-2" id="text-orgcbdc5cd">
</div>
</section>
<section id="slide-org2becae0">
<h3 id="org2becae0">Variables and mutability</h3>
<p>
immutable by default.
</p>

<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">fn</span> <span style="color: #87c095;">main</span><span style="color: #e68183;">()</span> <span style="color: #e68183;">{</span>
    <span style="color: #e68183;">let</span> <span style="color: #e68183;">mut</span> <span style="color: #87c095; font-style: italic;">spaces</span> = <span style="color: #87af87;">"   "</span>;
    spaces = spaces.len<span style="color: #d9bb80;">()</span>;
<span style="color: #e68183;">}</span>
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">fn</span> <span style="color: #87c095;">main</span><span style="color: #e68183;">()</span> <span style="color: #e68183;">{</span>
    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">spaces</span> = <span style="color: #87af87;">"   "</span>;
    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">spaces</span> = spaces.len<span style="color: #d9bb80;">()</span>;
<span style="color: #e68183;">}</span>
</code></pre>
</div>

</section>
<section id="slide-orgbae09e7">
<h3 id="orgbae09e7">Data types</h3>
<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">guess</span>: <span style="color: #d9bb80;">u32</span> = <span style="color: #87af87;">"42"</span>.parse<span style="color: #e68183;">()</span>.expect<span style="color: #e68183;">(</span><span style="color: #87af87;">"Not a number!"</span><span style="color: #e68183;">)</span>;
</code></pre>
</div>

</section>
<section id="slide-org1bbfbd6">
<h3 id="org1bbfbd6"></h3>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Length</th>
<th scope="col" class="org-left">Signed</th>
<th scope="col" class="org-left">Unsigned</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">8-bit</td>
<td class="org-left">i8</td>
<td class="org-left">u8</td>
</tr>

<tr>
<td class="org-left">16-bit</td>
<td class="org-left">i16</td>
<td class="org-left">u16</td>
</tr>

<tr>
<td class="org-left">32-bit</td>
<td class="org-left">i32</td>
<td class="org-left">u32</td>
</tr>

<tr>
<td class="org-left">64-bit</td>
<td class="org-left">i64</td>
<td class="org-left">u64</td>
</tr>

<tr>
<td class="org-left">128-bit</td>
<td class="org-left">i128</td>
<td class="org-left">u128</td>
</tr>

<tr>
<td class="org-left">arch</td>
<td class="org-left">isize</td>
<td class="org-left">usize</td>
</tr>
</tbody>
</table>

</section>
<section id="slide-orgce31288">
<h3 id="orgce31288">Destructuring on tuple</h3>
<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">fn</span> <span style="color: #87c095;">main</span><span style="color: #e68183;">()</span> <span style="color: #e68183;">{</span>
    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">tup</span>: <span style="color: #d9bb80;">(</span><span style="color: #d9bb80;">i32</span>, <span style="color: #d9bb80;">f64</span>, <span style="color: #d9bb80;">u8</span><span style="color: #d9bb80;">)</span> = <span style="color: #d9bb80;">(</span>500, 6.4, 1<span style="color: #d9bb80;">)</span>;

    <span style="color: #e68183;">let</span> <span style="color: #d9bb80;">(</span>x, y, z<span style="color: #d9bb80;">)</span> = tup;

    <span style="color: #e39b7b;">println!</span><span style="color: #d9bb80;">(</span><span style="color: #87af87;">"The value of y is: </span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;">"</span>, y<span style="color: #d9bb80;">)</span>;
<span style="color: #e68183;">}</span>
</code></pre>
</div>

</section>
<section id="slide-org4f088dd">
<h3 id="org4f088dd">Arrays</h3>
<p>
Fixed length
</p>

<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">a</span>: <span style="color: #e68183;">[</span><span style="color: #d9bb80;">i32</span>; 5<span style="color: #e68183;">]</span> = <span style="color: #e68183;">[</span>-1, 2, 4, -3, -5<span style="color: #e68183;">]</span>;
</code></pre>
</div>

<p>
Accessing elements
</p>

<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">fn</span> <span style="color: #87c095;">main</span><span style="color: #e68183;">()</span> <span style="color: #e68183;">{</span>
    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">a</span> = <span style="color: #d9bb80;">[</span>-1, 2, 4, -3, -5<span style="color: #d9bb80;">]</span>;

    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">first</span> = a<span style="color: #d9bb80;">[</span>0<span style="color: #d9bb80;">]</span>;
    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">second</span> = a<span style="color: #d9bb80;">[</span>1<span style="color: #d9bb80;">]</span>;
<span style="color: #e68183;">}</span>
</code></pre>
</div>

</section>
<section id="slide-org8029c81">
<h3 id="org8029c81">Functions</h3>
<p>
optional return keyword
</p>

<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">fn</span> <span style="color: #87c095;">main</span><span style="color: #e68183;">()</span> <span style="color: #e68183;">{</span>
    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">x</span> = plus_one<span style="color: #d9bb80;">(</span>5<span style="color: #d9bb80;">)</span>;

    <span style="color: #e39b7b;">println!</span><span style="color: #d9bb80;">(</span><span style="color: #87af87;">"The value of x is: </span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;">"</span>, x<span style="color: #d9bb80;">)</span>;
<span style="color: #e68183;">}</span>

<span style="color: #e68183;">fn</span> <span style="color: #87c095;">plus_one</span><span style="color: #e68183;">(</span><span style="color: #87c095; font-style: italic;">x</span>: <span style="color: #d9bb80;">i32</span><span style="color: #e68183;">)</span> -&gt; <span style="color: #d9bb80;">i32</span> <span style="color: #e68183;">{</span>
    x + 1
<span style="color: #e68183;">}</span>  
</code></pre>
</div>

</section>
<section id="slide-org5b85972">
<h3 id="org5b85972">Comments</h3>
<p>
Only one syntax
</p>

<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">hello, world</span>
</code></pre>
</div>

</section>
<section id="slide-org31765ac">
<h3 id="org31765ac">Control Flow</h3>

</section>
<section id="slide-orgbb8df83">
<h3 id="orgbb8df83">If / Else</h3>
<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">fn</span> <span style="color: #87c095;">main</span><span style="color: #e68183;">()</span> <span style="color: #e68183;">{</span>
    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">number</span> = 6;

    <span style="color: #e68183;">if</span> number % 4 == 0 <span style="color: #d9bb80;">{</span>
        <span style="color: #e39b7b;">println!</span><span style="color: #87c095;">(</span><span style="color: #87af87;">"number is divisible by 4"</span><span style="color: #87c095;">)</span>;
    <span style="color: #d9bb80;">}</span> <span style="color: #e68183;">else</span> <span style="color: #e68183;">if</span> number % 3 == 0 <span style="color: #d9bb80;">{</span>
        <span style="color: #e39b7b;">println!</span><span style="color: #87c095;">(</span><span style="color: #87af87;">"number is divisible by 3"</span><span style="color: #87c095;">)</span>;
    <span style="color: #d9bb80;">}</span> <span style="color: #e68183;">else</span> <span style="color: #e68183;">if</span> number % 2 == 0 <span style="color: #d9bb80;">{</span>
        <span style="color: #e39b7b;">println!</span><span style="color: #87c095;">(</span><span style="color: #87af87;">"number is divisible by 2"</span><span style="color: #87c095;">)</span>;
    <span style="color: #d9bb80;">}</span> <span style="color: #e68183;">else</span> <span style="color: #d9bb80;">{</span>
        <span style="color: #e39b7b;">println!</span><span style="color: #87c095;">(</span><span style="color: #87af87;">"number is not divisible by 4, 3, or 2"</span><span style="color: #87c095;">)</span>;
    <span style="color: #d9bb80;">}</span>
<span style="color: #e68183;">}</span>
</code></pre>
</div>

</section>
<section id="slide-org7228f95">
<h3 id="org7228f95">"Ternary"</h3>
<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">fn</span> <span style="color: #87c095;">main</span><span style="color: #e68183;">()</span> <span style="color: #e68183;">{</span>
    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">condition</span> = <span style="color: #e68183;">true</span>;
    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">number</span> = <span style="color: #e68183;">if</span> condition <span style="color: #d9bb80;">{</span> 5 <span style="color: #d9bb80;">}</span> <span style="color: #e68183;">else</span> <span style="color: #d9bb80;">{</span> 6 <span style="color: #d9bb80;">}</span>;

    <span style="color: #e39b7b;">println!</span><span style="color: #d9bb80;">(</span><span style="color: #87af87;">"The value of number is: </span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;">"</span>, number<span style="color: #d9bb80;">)</span>;
<span style="color: #e68183;">}</span>
</code></pre>
</div>

<p>
if is an expression, not just a statement
</p>

</section>
<section id="slide-org42e3b67">
<h3 id="org42e3b67">Classic while</h3>
<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">fn</span> <span style="color: #87c095;">main</span><span style="color: #e68183;">()</span> <span style="color: #e68183;">{</span>
    <span style="color: #e68183;">let</span> <span style="color: #e68183;">mut</span> <span style="color: #87c095; font-style: italic;">number</span> = 3;

    <span style="color: #e68183;">while</span> number != 0 <span style="color: #d9bb80;">{</span>
        <span style="color: #e39b7b;">println!</span><span style="color: #87c095;">(</span><span style="color: #87af87;">"</span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;">!"</span>, number<span style="color: #87c095;">)</span>;

        number -= 1;
    <span style="color: #d9bb80;">}</span>

    <span style="color: #e39b7b;">println!</span><span style="color: #d9bb80;">(</span><span style="color: #87af87;">"LIFTOFF!!!"</span><span style="color: #d9bb80;">)</span>;
<span style="color: #e68183;">}</span>
</code></pre>
</div>

</section>
<section id="slide-orga7481df">
<h3 id="orga7481df">For iter()</h3>
<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">fn</span> <span style="color: #87c095;">main</span><span style="color: #e68183;">()</span> <span style="color: #e68183;">{</span>
    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">a</span> = <span style="color: #d9bb80;">[</span>10, 20, 30, 40, 50<span style="color: #d9bb80;">]</span>;

    <span style="color: #e68183;">for</span> <span style="color: #87c095; font-style: italic;">element</span> <span style="color: #e68183;">in</span> a.iter<span style="color: #d9bb80;">()</span> <span style="color: #d9bb80;">{</span>
        <span style="color: #e39b7b;">println!</span><span style="color: #87c095;">(</span><span style="color: #87af87;">"the value is: </span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;">"</span>, element<span style="color: #87c095;">)</span>;
    <span style="color: #d9bb80;">}</span>
<span style="color: #e68183;">}</span>
</code></pre>
</div>

</section>
<section id="slide-org4ebdb1e">
<h3 id="org4ebdb1e">For range</h3>
<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">fn</span> <span style="color: #87c095;">main</span><span style="color: #e68183;">()</span> <span style="color: #e68183;">{</span>
    <span style="color: #e68183;">for</span> <span style="color: #87c095; font-style: italic;">number</span> <span style="color: #e68183;">in</span> <span style="color: #d9bb80;">(</span>1..4<span style="color: #d9bb80;">)</span>.rev<span style="color: #d9bb80;">()</span> <span style="color: #d9bb80;">{</span>
        <span style="color: #e39b7b;">println!</span><span style="color: #87c095;">(</span><span style="color: #87af87;">"</span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;">!"</span>, number<span style="color: #87c095;">)</span>;
    <span style="color: #d9bb80;">}</span>
    <span style="color: #e39b7b;">println!</span><span style="color: #d9bb80;">(</span><span style="color: #87af87;">"LIFTOFF!!!"</span><span style="color: #d9bb80;">)</span>;
<span style="color: #e68183;">}</span>  
</code></pre>
</div>

</section>
<section id="slide-org9fccc5a">
<h3 id="org9fccc5a">Infinite loop</h3>
<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">fn</span> <span style="color: #87c095;">main</span><span style="color: #e68183;">()</span> <span style="color: #e68183;">{</span>
    <span style="color: #e68183;">loop</span> <span style="color: #d9bb80;">{</span>
        <span style="color: #e39b7b;">println!</span><span style="color: #87c095;">(</span><span style="color: #87af87;">"again!"</span><span style="color: #87c095;">)</span>;
    <span style="color: #d9bb80;">}</span>
<span style="color: #e68183;">}</span>
</code></pre>
</div>

</section>
<section id="slide-org2cbeebe">
<h3 id="org2cbeebe">break returns value</h3>
<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">fn</span> <span style="color: #87c095;">main</span><span style="color: #e68183;">()</span> <span style="color: #e68183;">{</span>
    <span style="color: #e68183;">let</span> <span style="color: #e68183;">mut</span> <span style="color: #87c095; font-style: italic;">counter</span> = 0;

    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">result</span> = <span style="color: #e68183;">loop</span> <span style="color: #d9bb80;">{</span>
        counter += 1;
        <span style="color: #e68183;">if</span> counter == 10 <span style="color: #87c095;">{</span>
            <span style="color: #e68183;">break</span> counter * 2;
        <span style="color: #87c095;">}</span>
    <span style="color: #d9bb80;">}</span>;

    <span style="color: #e39b7b;">println!</span><span style="color: #d9bb80;">(</span><span style="color: #87af87;">"The result is </span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;">"</span>, result<span style="color: #d9bb80;">)</span>;
<span style="color: #e68183;">}</span>
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-org444949c">
<h2 id="org444949c">Ownership</h2>
<div class="outline-text-2" id="text-org444949c">
</div>
</section>
<section id="slide-org19330e1">
<h3 id="org19330e1">Ownership rules</h3>
<ul>
<li>Each value in Rust has a variable that’s called its owner.</li>
<li>There can only be one owner at a time.</li>
<li>When the owner goes out of scope, the value will be dropped.</li>

</ul>

</section>
<section id="slide-orgec30627">
<h3 id="orgec30627">Scope</h3>
<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">fn</span> <span style="color: #87c095;">main</span><span style="color: #e68183;">()</span> <span style="color: #e68183;">{</span>
    <span style="color: #d9bb80;">{</span>                      <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">s is not valid here, it&#8217;s not yet declared</span>
        <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">s</span> = <span style="color: #87af87;">"hello"</span>;   <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">s is valid from this point forward</span>

        <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">do stuff with s</span>
    <span style="color: #d9bb80;">}</span>                      <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">this scope is now over, and s is no longer valid</span>
<span style="color: #e68183;">}</span>
</code></pre>
</div>

</section>
<section id="slide-org5ce309a">
<h3 id="org5ce309a">String type</h3>
<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">fn</span> <span style="color: #87c095;">main</span><span style="color: #e68183;">()</span> <span style="color: #e68183;">{</span>
    <span style="color: #e68183;">let</span> <span style="color: #e68183;">mut</span> <span style="color: #87c095; font-style: italic;">s</span> = <span style="color: #d9bb80;">String</span>::from<span style="color: #d9bb80;">(</span><span style="color: #87af87;">"hello"</span><span style="color: #d9bb80;">)</span>;

    s.push_str<span style="color: #d9bb80;">(</span><span style="color: #87af87;">", world!"</span><span style="color: #d9bb80;">)</span>; <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">push_str() appends a literal to a String</span>

    <span style="color: #e39b7b;">println!</span><span style="color: #d9bb80;">(</span><span style="color: #87af87;">"</span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;">"</span>, s<span style="color: #d9bb80;">)</span>; <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">This will print `hello, world!`</span>
<span style="color: #e68183;">}</span>
</code></pre>
</div>

</section>
<section id="slide-orgdb83865">
<h3 id="orgdb83865">Pointers</h3>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-left" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">addr</th>
<th scope="col" class="org-left">variable name</th>
<th scope="col" class="org-right">value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">0x60ff18</td>
<td class="org-left">a</td>
<td class="org-right">12</td>
</tr>

<tr>
<td class="org-right">0x60ff14</td>
<td class="org-left">b</td>
<td class="org-right">7.4</td>
</tr>

<tr>
<td class="org-right">…</td>
<td class="org-left">…</td>
<td class="org-right">…</td>
</tr>

<tr>
<td class="org-right">0x404004</td>
<td class="org-left">p</td>
<td class="org-right">0x60ff14</td>
</tr>

<tr>
<td class="org-right">…</td>
<td class="org-left">…</td>
<td class="org-right">…</td>
</tr>
</tbody>
</table>

</section>
<section id="slide-org64d3a07">
<h3 id="org64d3a07">Pointers</h3>
<p>
*p will return the value of the address 0x60ff14 (the value of b)
</p>

<p>
&amp; gives the address of the variable
</p>
<ul>
<li>&amp;a =&gt; 0x60ff18</li>
<li>&amp;b =&gt; 0x60ff14</li>
<li>&amp;p =&gt; 0x404004</li>

</ul>

</section>
<section id="slide-org27ee215">
<h3 id="org27ee215">C : Malloc / Free</h3>
<p>
En C
</p>

<div class="org-src-container">

<pre  class="src src-c" ><code trim><span style="color: #e39b7b;">int</span> <span style="color: #e68183;">*</span> <span style="color: #87c095; font-style: italic;">entier</span><span style="color: #e6d6ac; background-color: #2a2426;">;</span>

<span style="color: #87c095; font-style: italic;">entier</span> <span style="color: #e68183;">=</span> <span style="color: #d9bb80; font-weight: bold;">malloc</span> <span style="color: #e68183; background-color: #2a2426;">(</span><span style="color: #e68183;">sizeof</span><span style="color: #d9bb80; background-color: #2a2426;">(</span><span style="color: #e39b7b;">int</span><span style="color: #d9bb80; background-color: #2a2426;">)</span><span style="color: #e68183; background-color: #2a2426;">)</span><span style="color: #e6d6ac; background-color: #2a2426;">;</span>
<span style="color: #e68183;">if</span><span style="color: #e68183; background-color: #2a2426;">(</span> entier <span style="color: #e68183;">==</span> <span style="color: #e39b7b;">NULL</span> <span style="color: #e68183; background-color: #2a2426;">)</span> <span style="color: #e68183; background-color: #2a2426;">{</span>
  <span style="color: #d9bb80; font-weight: bold;">fprintf</span><span style="color: #d9bb80; background-color: #2a2426;">(</span>stderr<span style="color: #e6d6ac; background-color: #2a2426;">,</span><span style="color: #87af87;">"Allocation impossible"</span><span style="color: #d9bb80; background-color: #2a2426;">)</span><span style="color: #e6d6ac; background-color: #2a2426;">;</span>
 <span style="color: #e68183; background-color: #2a2426;">}</span>
 <span style="color: #e68183;">else</span> <span style="color: #e68183; background-color: #2a2426;">{</span>
   <span style="color: #5b5b5b;">/* affectation d'une valeur et affichage */</span>
   <span style="color: #e68183;">*</span><span style="color: #87c095; font-style: italic;">entier</span> <span style="color: #e68183;">=</span> <span style="color: #d3a0bc;">3</span><span style="color: #e6d6ac; background-color: #2a2426;">;</span>
   <span style="color: #d9bb80; font-weight: bold;">printf</span><span style="color: #d9bb80; background-color: #2a2426;">(</span><span style="color: #87af87;">"%d"</span><span style="color: #e6d6ac; background-color: #2a2426;">,</span><span style="color: #e68183;">*</span>entier<span style="color: #d9bb80; background-color: #2a2426;">)</span><span style="color: #e6d6ac; background-color: #2a2426;">;</span>

   <span style="color: #5b5b5b;">/* lib&#233;ration */</span>
   <span style="color: #d9bb80; font-weight: bold;">free</span><span style="color: #d9bb80; background-color: #2a2426;">(</span>entier<span style="color: #d9bb80; background-color: #2a2426;">)</span><span style="color: #e6d6ac; background-color: #2a2426;">;</span>
   <span style="color: #87c095; font-style: italic;">entier</span> <span style="color: #e68183;">=</span> <span style="color: #e39b7b;">NULL</span><span style="color: #e6d6ac; background-color: #2a2426;">;</span>
 <span style="color: #e68183; background-color: #2a2426;">}</span>
</code></pre>
</div>

</section>
<section id="slide-org298b578">
<h3 id="org298b578">Variables Data interaction 1</h3>
<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">x</span> = 5;
<span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">y</span> = x;
<span style="color: #e39b7b;">println!</span><span style="color: #e68183;">(</span><span style="color: #87af87;">"x = </span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;">, y = </span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;">"</span>, x, y<span style="color: #e68183;">)</span>;
</code></pre>
</div>

<ul>
<li>la valeur contenue dans y est 5.</li>
<li>5 est un entier (type simple) dont la taille est fixe et connue à la compilation.</li>

</ul>

</section>
<section id="slide-org64f4bc8">
<h3 id="org64f4bc8">Variables Data interaction 2 : move</h3>
<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">s1</span> = <span style="color: #d9bb80;">String</span>::from<span style="color: #e68183;">(</span><span style="color: #87af87;">"hello"</span><span style="color: #e68183;">)</span>;
<span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">s2</span> = s1;
</code></pre>
</div>

</section>
<section id="slide-orgf1fed2f">
<h3 id="orgf1fed2f">Variables Data interaction 2 : move</h3>

<div id="org36768d1" class="figure">
<p><a href="images/string_memory_diagram.svg" src="images/string_memory_diagram.svg"><img src="images/string_memory_diagram.svg" alt="string_memory_diagram.svg" /></a>
</p>
</div>

</section>
<section id="slide-org66614e5">
<h3 id="org66614e5">Variables Data interaction 2 : move</h3>

<div id="orgc24051a" class="figure">
<p><a href="images/string_copy_repr.svg" src="images/string_copy_repr.svg"><img src="images/string_copy_repr.svg" alt="string_copy_repr.svg" /></a>
</p>
</div>

<p>
Double free error
</p>

</section>
<section id="slide-org8df02e5">
<h3 id="org8df02e5">Variables Data interaction 2 : move</h3>
<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">fn</span> <span style="color: #87c095;">main</span><span style="color: #e68183;">()</span> <span style="color: #e68183;">{</span>
    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">s1</span> = <span style="color: #d9bb80;">String</span>::from<span style="color: #d9bb80;">(</span><span style="color: #87af87;">"hello"</span><span style="color: #d9bb80;">)</span>;
    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">s2</span> = s1;

    <span style="color: #e39b7b;">println!</span><span style="color: #d9bb80;">(</span><span style="color: #87af87;">"</span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;">, world!"</span>, s1<span style="color: #d9bb80;">)</span>;
<span style="color: #e68183;">}</span>
</code></pre>
</div>

</section>
<section id="slide-org4427969">
<h3 id="org4427969">Variables Data interaction 2 : move</h3>

<div id="org9620614" class="figure">
<p><a href="images/string_move_invalidated_ref.svg" src="images/string_move_invalidated_ref.svg"><img src="images/string_move_invalidated_ref.svg" alt="string_move_invalidated_ref.svg" /></a>
</p>
</div>

</section>
<section id="slide-org37a44f9">
<h3 id="org37a44f9">Variables Data interaction 2 : clone</h3>
<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">s1</span> = <span style="color: #d9bb80;">String</span>::from<span style="color: #e68183;">(</span><span style="color: #87af87;">"hello"</span><span style="color: #e68183;">)</span>;
<span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">s2</span> = s1.clone<span style="color: #e68183;">()</span>;

<span style="color: #e39b7b;">println!</span><span style="color: #e68183;">(</span><span style="color: #87af87;">"s1 = </span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;">, s2 = </span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;">"</span>, s1, s2<span style="color: #e68183;">)</span>;
</code></pre>
</div>

</section>
<section id="slide-org46f8169">
<h3 id="org46f8169">Variables Data interaction 2 : clone</h3>

<div id="orgefb0d42" class="figure">
<p><a href="images/string_clone_repr.svg" src="images/string_clone_repr.svg"><img src="images/string_clone_repr.svg" alt="string_clone_repr.svg" /></a>
</p>
</div>

</section>
<section id="slide-org6cf5da5">
<h3 id="org6cf5da5">Functions : taking ownership</h3>
<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">fn</span> <span style="color: #87c095;">main</span><span style="color: #e68183;">()</span> <span style="color: #e68183;">{</span>
    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">s</span> = <span style="color: #d9bb80;">String</span>::from<span style="color: #d9bb80;">(</span><span style="color: #87af87;">"hello"</span><span style="color: #d9bb80;">)</span>;  <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">s comes into scope</span>

    takes_ownership<span style="color: #d9bb80;">(</span>s<span style="color: #d9bb80;">)</span>;             <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">s's value moves into the function...</span>
    <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">... and so is no longer valid here</span>

    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">x</span> = 5;                      <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">x comes into scope</span>

    makes_copy<span style="color: #d9bb80;">(</span>x<span style="color: #d9bb80;">)</span>;                  <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">x would move into the function,</span>
    <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">but i32 is Copy, so it's okay to still</span>
    <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">use x afterward</span>

<span style="color: #e68183;">}</span> <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">Here, x goes out of scope, then s. But because s's value was moved, nothing</span>
<span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">special happens.</span>

<span style="color: #e68183;">fn</span> <span style="color: #87c095;">takes_ownership</span><span style="color: #e68183;">(</span><span style="color: #87c095; font-style: italic;">some_string</span>: <span style="color: #d9bb80;">String</span><span style="color: #e68183;">)</span> <span style="color: #e68183;">{</span> <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">some_string comes into scope</span>
    <span style="color: #e39b7b;">println!</span><span style="color: #d9bb80;">(</span><span style="color: #87af87;">"</span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;">"</span>, some_string<span style="color: #d9bb80;">)</span>;
<span style="color: #e68183;">}</span> <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">Here, some_string goes out of scope and `drop` is called. The backing</span>
<span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">memory is freed.</span>

<span style="color: #e68183;">fn</span> <span style="color: #87c095;">makes_copy</span><span style="color: #e68183;">(</span><span style="color: #87c095; font-style: italic;">some_integer</span>: <span style="color: #d9bb80;">i32</span><span style="color: #e68183;">)</span> <span style="color: #e68183;">{</span> <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">some_integer comes into scope</span>
    <span style="color: #e39b7b;">println!</span><span style="color: #d9bb80;">(</span><span style="color: #87af87;">"</span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;">"</span>, some_integer<span style="color: #d9bb80;">)</span>;
<span style="color: #e68183;">}</span> <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">Here, some_integer goes out of scope. Nothing special happens.</span>
</code></pre>
</div>

</section>
<section id="slide-orgc3c5e36">
<h3 id="orgc3c5e36">Functions : giving ownership</h3>
<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">fn</span> <span style="color: #87c095;">main</span><span style="color: #e68183;">()</span> <span style="color: #e68183;">{</span>
    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">s1</span> = gives_ownership<span style="color: #d9bb80;">()</span>;         <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">gives_ownership moves its return</span>
    <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">value into s1</span>

    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">s2</span> = <span style="color: #d9bb80;">String</span>::from<span style="color: #d9bb80;">(</span><span style="color: #87af87;">"hello"</span><span style="color: #d9bb80;">)</span>;     <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">s2 comes into scope</span>

    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">s3</span> = takes_and_gives_back<span style="color: #d9bb80;">(</span>s2<span style="color: #d9bb80;">)</span>;  <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">s2 is moved into</span>
    <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">takes_and_gives_back, which also</span>
    <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">moves its return value into s3</span>
<span style="color: #e68183;">}</span> <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">Here, s3 goes out of scope and is dropped. s2 goes out of scope but was</span>
<span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">moved, so nothing happens. s1 goes out of scope and is dropped.</span>

<span style="color: #e68183;">fn</span> <span style="color: #87c095;">gives_ownership</span><span style="color: #e68183;">()</span> -&gt; <span style="color: #d9bb80;">String</span> <span style="color: #e68183;">{</span>             <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">gives_ownership will move its</span>
    <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">return value into the function</span>
    <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">that calls it</span>

    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">some_string</span> = <span style="color: #d9bb80;">String</span>::from<span style="color: #d9bb80;">(</span><span style="color: #87af87;">"hello"</span><span style="color: #d9bb80;">)</span>; <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">some_string comes into scope</span>

    some_string                              <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">some_string is returned and</span>
    <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">moves out to the calling</span>
    <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">function</span>
<span style="color: #e68183;">}</span>

<span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">takes_and_gives_back will take a String and return one</span>
<span style="color: #e68183;">fn</span> <span style="color: #87c095;">takes_and_gives_back</span><span style="color: #e68183;">(</span><span style="color: #87c095; font-style: italic;">a_string</span>: <span style="color: #d9bb80;">String</span><span style="color: #e68183;">)</span> -&gt; <span style="color: #d9bb80;">String</span> <span style="color: #e68183;">{</span> <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">a_string comes into</span>
    <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">scope</span>

    a_string  <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">a_string is returned and moves out to the calling function</span>
<span style="color: #e68183;">}</span>
</code></pre>
</div>

</section>
<section id="slide-org3b971a7">
<h3 id="org3b971a7">Functions : tuple ownership</h3>
<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">fn</span> <span style="color: #87c095;">main</span><span style="color: #e68183;">()</span> <span style="color: #e68183;">{</span>
    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">s1</span> = <span style="color: #d9bb80;">String</span>::from<span style="color: #d9bb80;">(</span><span style="color: #87af87;">"hello"</span><span style="color: #d9bb80;">)</span>;

    <span style="color: #e68183;">let</span> <span style="color: #d9bb80;">(</span>s2, len<span style="color: #d9bb80;">)</span> = calculate_length<span style="color: #d9bb80;">(</span>s1<span style="color: #d9bb80;">)</span>;

    <span style="color: #e39b7b;">println!</span><span style="color: #d9bb80;">(</span><span style="color: #87af87;">"The length of '</span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;">' is </span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;">."</span>, s2, len<span style="color: #d9bb80;">)</span>;
<span style="color: #e68183;">}</span>

<span style="color: #e68183;">fn</span> <span style="color: #87c095;">calculate_length</span><span style="color: #e68183;">(</span><span style="color: #87c095; font-style: italic;">s</span>: <span style="color: #d9bb80;">String</span><span style="color: #e68183;">)</span> -&gt; <span style="color: #e68183;">(</span><span style="color: #d9bb80;">String</span>, <span style="color: #d9bb80;">usize</span><span style="color: #e68183;">)</span> <span style="color: #e68183;">{</span>
    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">length</span> = s.len<span style="color: #d9bb80;">()</span>; <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">len() returns the length of a String</span>

    <span style="color: #d9bb80;">(</span>s, length<span style="color: #d9bb80;">)</span>
<span style="color: #e68183;">}</span>
</code></pre>
</div>

</section>
<section id="slide-orgbd4cd00">
<h3 id="orgbd4cd00">References / borrowing</h3>
<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">fn</span> <span style="color: #87c095;">main</span><span style="color: #e68183;">()</span> <span style="color: #e68183;">{</span>
    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">s1</span> = <span style="color: #d9bb80;">String</span>::from<span style="color: #d9bb80;">(</span><span style="color: #87af87;">"hello"</span><span style="color: #d9bb80;">)</span>;

    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">len</span> = calculate_length<span style="color: #d9bb80;">(</span>&amp;s1<span style="color: #d9bb80;">)</span>;

    <span style="color: #e39b7b;">println!</span><span style="color: #d9bb80;">(</span><span style="color: #87af87;">"The length of '</span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;">' is </span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;">."</span>, s1, len<span style="color: #d9bb80;">)</span>;
<span style="color: #e68183;">}</span>

<span style="color: #e68183;">fn</span> <span style="color: #87c095;">calculate_length</span><span style="color: #e68183;">(</span><span style="color: #87c095; font-style: italic;">s</span>: &amp;<span style="color: #d9bb80;">String</span><span style="color: #e68183;">)</span> -&gt; <span style="color: #d9bb80;">usize</span> <span style="color: #e68183;">{</span>
    s.len<span style="color: #d9bb80;">()</span>
<span style="color: #e68183;">}</span>
</code></pre>
</div>

</section>
<section id="slide-org9b0a994">
<h3 id="org9b0a994">Borrowing immutable by default</h3>
<div class="org-src-container">

<pre  class="src src-rust" ><code trim>  <span style="color: #e68183;">fn</span> <span style="color: #87c095;">main</span><span style="color: #e68183;">()</span> <span style="color: #e68183;">{</span>
    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">s</span> = <span style="color: #d9bb80;">String</span>::from<span style="color: #d9bb80;">(</span><span style="color: #87af87;">"hello"</span><span style="color: #d9bb80;">)</span>;

    change<span style="color: #d9bb80;">(</span>&amp;s<span style="color: #d9bb80;">)</span>;
<span style="color: #e68183;">}</span>

<span style="color: #e68183;">fn</span> <span style="color: #87c095;">change</span><span style="color: #e68183;">(</span><span style="color: #87c095; font-style: italic;">some_string</span>: &amp;<span style="color: #d9bb80;">String</span><span style="color: #e68183;">)</span> <span style="color: #e68183;">{</span>
    some_string.push_str<span style="color: #d9bb80;">(</span><span style="color: #87af87;">", world"</span><span style="color: #d9bb80;">)</span>;
<span style="color: #e68183;">}</span>
</code></pre>
</div>

<p>
Does not compile
</p>

</section>
<section id="slide-org69691a9">
<h3 id="org69691a9">Mutable references</h3>
<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">fn</span> <span style="color: #87c095;">main</span><span style="color: #e68183;">()</span> <span style="color: #e68183;">{</span>
    <span style="color: #e68183;">let</span> <span style="color: #e68183;">mut</span> <span style="color: #87c095; font-style: italic;">s</span> = <span style="color: #d9bb80;">String</span>::from<span style="color: #d9bb80;">(</span><span style="color: #87af87;">"hello"</span><span style="color: #d9bb80;">)</span>;

    change<span style="color: #d9bb80;">(</span>&amp;<span style="color: #e68183;">mut</span> s<span style="color: #d9bb80;">)</span>;
<span style="color: #e68183;">}</span>

<span style="color: #e68183;">fn</span> <span style="color: #87c095;">change</span><span style="color: #e68183;">(</span><span style="color: #87c095; font-style: italic;">some_string</span>: &amp;<span style="color: #e68183;">mut</span> <span style="color: #d9bb80;">String</span><span style="color: #e68183;">)</span> <span style="color: #e68183;">{</span>
    some_string.push_str<span style="color: #d9bb80;">(</span><span style="color: #87af87;">", world"</span><span style="color: #d9bb80;">)</span>;
<span style="color: #e68183;">}</span>
</code></pre>
</div>

</section>
<section id="slide-org4c0f3ed">
<h3 id="org4c0f3ed">Only one mutable reference</h3>
<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">fn</span> <span style="color: #87c095;">main</span><span style="color: #e68183;">()</span> <span style="color: #e68183;">{</span>
    <span style="color: #e68183;">let</span> <span style="color: #e68183;">mut</span> <span style="color: #87c095; font-style: italic;">s</span> = <span style="color: #d9bb80;">String</span>::from<span style="color: #d9bb80;">(</span><span style="color: #87af87;">"hello"</span><span style="color: #d9bb80;">)</span>;

    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">r1</span> = &amp;<span style="color: #e68183;">mut</span> s;
    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">r2</span> = &amp;<span style="color: #e68183;">mut</span> s;

    <span style="color: #e39b7b;">println!</span><span style="color: #d9bb80;">(</span><span style="color: #87af87;">"</span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;">, </span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;">"</span>, r1, r2<span style="color: #d9bb80;">)</span>;
<span style="color: #e68183;">}</span>
</code></pre>
</div>

<p>
Catch data race at compile time
</p>

</section>
<section id="slide-orgdc50f9c">
<h3 id="orgdc50f9c">Mixing mutable and immutable</h3>
<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">fn</span> <span style="color: #87c095;">main</span><span style="color: #e68183;">()</span> <span style="color: #e68183;">{</span>
    <span style="color: #e68183;">let</span> <span style="color: #e68183;">mut</span> <span style="color: #87c095; font-style: italic;">s</span> = <span style="color: #d9bb80;">String</span>::from<span style="color: #d9bb80;">(</span><span style="color: #87af87;">"hello"</span><span style="color: #d9bb80;">)</span>;

    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">r1</span> = &amp;s; <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">no problem</span>
    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">r2</span> = &amp;s; <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">no problem</span>
    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">r3</span> = &amp;<span style="color: #e68183;">mut</span> s; <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">BIG PROBLEM</span>

    <span style="color: #e39b7b;">println!</span><span style="color: #d9bb80;">(</span><span style="color: #87af87;">"</span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;">, </span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;">, and </span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;">"</span>, r1, r2, r3<span style="color: #d9bb80;">)</span>;
<span style="color: #e68183;">}</span>
</code></pre>
</div>

<p>
does not compile
</p>

</section>
<section id="slide-org25f929f">
<h3 id="org25f929f">Rustc smart boy</h3>
<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">fn</span> <span style="color: #87c095;">main</span><span style="color: #e68183;">()</span> <span style="color: #e68183;">{</span>
    <span style="color: #e68183;">let</span> <span style="color: #e68183;">mut</span> <span style="color: #87c095; font-style: italic;">s</span> = <span style="color: #d9bb80;">String</span>::from<span style="color: #d9bb80;">(</span><span style="color: #87af87;">"hello"</span><span style="color: #d9bb80;">)</span>;

    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">r1</span> = &amp;s; <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">no problem</span>
    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">r2</span> = &amp;s; <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">no problem</span>
    <span style="color: #e39b7b;">println!</span><span style="color: #d9bb80;">(</span><span style="color: #87af87;">"</span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;"> and </span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;">"</span>, r1, r2<span style="color: #d9bb80;">)</span>;
    <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">r1 and r2 are no longer used after this point</span>

    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">r3</span> = &amp;<span style="color: #e68183;">mut</span> s; <span style="color: #5b5b5b;">// </span><span style="color: #5b5b5b;">no problem</span>
    <span style="color: #e39b7b;">println!</span><span style="color: #d9bb80;">(</span><span style="color: #87af87;">"</span><span style="color: #87af87; font-style: italic;">{}</span><span style="color: #87af87;">"</span>, r3<span style="color: #d9bb80;">)</span>;
<span style="color: #e68183;">}</span>
</code></pre>
</div>

<p>
compiles
</p>

<aside class="notes">
<p>
La notion de scope est un petit peu altérée ici.
Le compilateur rustc est assez malin pour voir que
r1 et r2 ne sont plus utilisés après le println!
</p>

</aside>

</section>
<section id="slide-orgcb060df">
<h3 id="orgcb060df">Dangling references</h3>
<div class="org-src-container">

<pre  class="src src-rust" ><code trim><span style="color: #e68183;">fn</span> <span style="color: #87c095;">main</span><span style="color: #e68183;">()</span> <span style="color: #e68183;">{</span>
    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">reference_to_nothing</span> = dangle<span style="color: #d9bb80;">()</span>;
<span style="color: #e68183;">}</span>

<span style="color: #e68183;">fn</span> <span style="color: #87c095;">dangle</span><span style="color: #e68183;">()</span> -&gt; &amp;<span style="color: #d9bb80;">String</span> <span style="color: #e68183;">{</span>
    <span style="color: #e68183;">let</span> <span style="color: #87c095; font-style: italic;">s</span> = <span style="color: #d9bb80;">String</span>::from<span style="color: #d9bb80;">(</span><span style="color: #87af87;">"hello"</span><span style="color: #d9bb80;">)</span>;

    &amp;s
<span style="color: #e68183;">}</span>
</code></pre>
</div>

<aside class="notes">
<p>
In Rust, the compiler guarantees that references will never be dangling references:
if you have a reference to some data,
the compiler will ensure that
the data will not go out of scope before the reference to the data does.
</p>

</aside>

</section>
<section id="slide-org7dcb5d3">
<h3 id="org7dcb5d3">The Rules of References</h3>
<ul>
<li>At any given time, you can have either one mutable reference or any number of immutable references.</li>
<li>References must always be valid.</li>

</ul>

</section>
</section>
<section>
<section id="slide-org0a3f462">
<h2 id="org0a3f462">Live</h2>
<div class="outline-text-2" id="text-org0a3f462">
</div>
</section>
<section id="slide-orgcb0ef7e">
<h3 id="orgcb0ef7e">Coreutils / Findutils</h3>
<ul>
<li><a href="https://github.com/uutils/coreutils">https://github.com/uutils/coreutils</a></li>
<li><a href="https://github.com/uutils/findutils">https://github.com/uutils/findutils</a></li>

</ul>

</section>
<section id="slide-org69c4f75">
<h3 id="org69c4f75">exa</h3>
<p>
<a href="https://github.com/ogham/exa">GitHub - ogham/exa: A modern replacement for ‘ls’.</a>
</p>

</section>
<section id="slide-org4418a87">
<h3 id="org4418a87">bat</h3>
<p>
<a href="https://github.com/sharkdp/bat">GitHub - sharkdp/bat: A cat(1) clone with wings.</a>
</p>

<div class="org-src-container">

<pre  class="src src-shell" ><code trim>bat README.org
</code></pre>
</div>

</section>
<section id="slide-org7f18e0c">
<h3 id="org7f18e0c">fd</h3>
<p>
<a href="https://github.com/sharkdp/fd">GitHub - sharkdp/fd: A simple, fast and user-friendly alternative to 'find'</a>
</p>

<div class="org-src-container">

<pre  class="src src-shell" ><code trim>fd README.org
</code></pre>
</div>

</section>
<section id="slide-orgfec2be1">
<h3 id="orgfec2be1">sd</h3>
<p>
<a href="https://github.com/chmln/sd">GitHub - chmln/sd: Intuitive find &amp; replace CLI (sed alternative)</a>
</p>

<p>
find and replace
faster than sed
</p>

<div class="org-src-container">

<pre  class="src src-shell" ><code trim>sd vim emacs sd.txt
</code></pre>
</div>

</section>
<section id="slide-org0083e73">
<h3 id="org0083e73">ripgrep</h3>
<ul>
<li><a href="https://github.com/BurntSushi/ripgrep">GitHub - BurntSushi/ripgrep</a></li>
<li><a href="https://blog.burntsushi.net/ripgrep/">ripgrep is faster than *</a></li>

</ul>

<p>
grep (global regular expression print) -&gt; ack -&gt; ag -&gt; pt -&gt; rg
</p>

<div class="org-src-container">

<pre  class="src src-shell" ><code trim>rg else
</code></pre>
</div>

</section>
<section id="slide-org703a0db">
<h3 id="org703a0db">grex</h3>

<div id="orgd563331" class="figure">
<p><a href="images/grex.jpg" src="images/grex.jpg" alt="grex"><img src="images/grex.jpg" alt="grex" /></a>
</p>
</div>

</section>
<section id="slide-orgaffa789">
<h3 id="orgaffa789">grex</h3>
<div class="org-src-container">

<pre  class="src src-shell" ><code trim>grex <span style="color: #87af87;">"Hello world"</span> <span style="color: #87af87;">"Hello Alyra"</span>
</code></pre>
</div>

</section>
<section id="slide-org7322b2a">
<h3 id="org7322b2a">nushell</h3>
<ul>
<li><a href="https://www.nushell.sh/">https://www.nushell.sh/</a></li>
<li><a href="https://github.com/nushell/nushell">GitHub - nushell/nushell: A new type of shell</a></li>

</ul>

<div class="org-src-container">

<pre  class="src src-shell" ><code trim>ls | where size &gt; 10kb | get name
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-shell" ><code trim>sys | get disks | select device total | to json
</code></pre>
</div>

</section>
<section id="slide-org59a7544">
<h3 id="org59a7544">Alacritty</h3>
<p>
<a href="https://github.com/alacritty/alacritty">GitHub - alacritty: cross-platform, OpenGL terminal emulator</a>
</p>

</section>
<section id="slide-org59cc354">
<h3 id="org59cc354">Tree-sitter</h3>
<ul>
<li><a href="https://tree-sitter.github.io/tree-sitter/">Tree-sitter｜Introduction</a></li>
<li><a href="https://github.com/tree-sitter/tree-sitter">Github</a></li>
<li><a href="https://www.youtube.com/watch?v=Jes3bD6P0To">Strange Loop talk</a></li>

</ul>

</section>
<section id="slide-org0630880">
<h3 id="org0630880">Pijul</h3>
<p>
<a href="https://pijul.org/">https://pijul.org/</a>
</p>

<p>
DVCS  (distributed version control system) based on a sound theory of patches.
</p>

</section>
<section id="slide-org6a5efc4">
<h3 id="org6a5efc4">Scryer Prolog</h3>
<ul>
<li><a href="https://github.com/mthom/scryer-prolog">GitHub - mthom/scryer-prolog</a></li>

</ul>
<p>
A modern Prolog implementation written mostly in Rust. 
</p>

</section>
<section id="slide-org1742659">
<h3 id="org1742659">Redox OS</h3>
<p>
<a href="https://www.redox-os.org/">Redox - Your Next(Gen) OS</a>
</p>

</section>
<section id="slide-orga5ae16e">
<h3 id="orga5ae16e">Fe</h3>
<p>
<a href="https://github.com/ethereum/fe">GitHub - fe: smart contract language for Ethereum</a>
</p>

<p>
Inspired by python and rust, made in rust.
</p>

</section>
<section id="slide-orga6f1173">
<h3 id="orga6f1173">Fe</h3>
<div class="org-src-container">

<pre  class="src src-fe" ><code trim>type BookMsg = bytes[100]

contract GuestBook:
    pub guest_book: Map&lt;address, BookMsg&gt;

    event Signed:
	book_msg: BookMsg

    pub def sign(book_msg: BookMsg):
	self.guest_book[msg.sender] = book_msg

	emit Signed(book_msg=book_msg)

    pub def get_msg(addr: address) -&gt; BookMsg:
	return self.guest_book[addr].to_mem()
</code></pre>
</div>

</section>
<section id="slide-orgf638ac2">
<h3 id="orgf638ac2">Web</h3>
<ul>
<li><a href="https://actix.rs/">Actix Web</a></li>
<li><a href="https://github.com/actix/actix">GitHub - actix/actix: Actor framework for Rust</a></li>

<li><a href="https://hyper.rs/">https://hyper.rs/</a></li>
<li><a href="https://github.com/hyperium/hyper">GitHub - hyperium/hyper: An HTTP library for Rust</a></li>

</ul>

</section>
<section id="slide-org06e89ee">
<h3 id="org06e89ee">Multimedia</h3>
<ul>
<li><a href="https://github.com/xiph/rav1e">GitHub - xiph/rav1e: The fastest and safest AV1 encoder.</a></li>
<li><a href="https://rustav.org/">https://rustav.org/</a></li>

</ul>

</section>
</section>
<section>
<section id="slide-org210c47b">
<h2 id="org210c47b">WebAssembly</h2>
<div class="outline-text-2" id="text-org210c47b">
</div>
</section>
<section id="slide-org878141d">
<h3 id="org878141d">What the what</h3>
<p>
<a href="https://webassembly.org/">https://webassembly.org/</a>
</p>

<p>
WebAssembly (abbreviated Wasm) is a binary instruction format for a stack-based virtual machine.
Wasm is designed as a portable compilation target for programming languages,
enabling deployment on the web for client and server applications.
</p>

</section>
<section id="slide-org7d43927">
<h3 id="org7d43927">Rust and WebAssembly</h3>
<ul>
<li><a href="https://rustwasm.github.io/book/">Introduction - Rust and WebAssembly</a></li>
<li><a href="https://www.youtube.com/watch?v=nvLw_XKlZaU">InfoQ TechTalk (yt)</a></li>

</ul>

</section>
</section>
<section>
<section id="slide-org82fe48d">
<h2 id="org82fe48d">Improvement of the language</h2>
<p>
<a href="https://rust-lang.github.io/rfcs/">Introduction - The Rust RFC Book</a>
</p>

</section>
</section>
<section>
<section id="slide-orgc4aca17">
<h2 id="orgc4aca17">Resources</h2>
<ul>
<li><a href="https://doc.rust-lang.org/book/">The Rust Programming Language - Rust Book</a></li>
<li><a href="https://doc.rust-lang.org/stable/rust-by-example/">Rust By Example</a></li>
<li><a href="https://github.com/rust-lang/rustlings/">GitHub - rust-lang/rustlings</a></li>
<li><a href="https://exercism.io/tracks/rust">Rust | Exercism</a></li>
<li><a href="https://chrismorgan.info/blog/rust-ownership-the-hard-way/">Rust ownership, the hard way - an article by Chris Morgan</a></li>
<li><a href="https://zaiste.net/posts/shell-commands-rust/">Rewritten in Rust: Modern Alternatives of Command-Line Tools</a></li>
<li><a href="https://github.com/TaKO8Ki/awesome-alternatives-in-rust">GitHub - TaKO8Ki/awesome-alternatives-in-rust</a></li>
<li><a href="https://github.com/rust-unofficial/awesome-rust">GitHub - rust-unofficial/awesome-rust</a></li>

</ul>

<p>
Questions ?
</p>
</section>
</section>
</div>
</div>
<script src="./reveal.js/dist/reveal.js"></script>
<script src="./reveal.js/plugin/markdown/markdown.js"></script>
<script src="./reveal.js/plugin/zoom/zoom.js"></script>
<script src="./reveal.js/plugin/notes/notes.js"></script>


<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({
plugins: [RevealMarkdown,RevealZoom,RevealNotes],
multiplex: {
    secret: '', // null if client
    id: '', // id, obtained from socket.io server
    url: '' // Location of socket.io server
},

// Optional libraries used to extend on reveal.js
dependencies: [
]
});


</script>
</body>
</html>
